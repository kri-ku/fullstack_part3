{"version":3,"sources":["components/FilterForm.js","components/PersonForm.js","components/ShowPersons.js","services/persons.js","components/Notification.js","components/App.js","index.js"],"names":["FilterForm","filterable","handleFilterChange","value","onChange","style","margin","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","ShowPersons","personsToShow","removePerson","map","person","key","id","name","number","onClick","baseUrl","axios","get","newObject","post","put","delete","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","setFilterable","setMessage","messageType","setMessageType","filter","toLowerCase","includes","useEffect","personService","then","response","data","showMessage","mes","setTimeout","event","target","preventDefault","personObj","trim","personExists","window","confirm","oldPersonArray","p","catch","error","console","log","body","concat","JSON","stringify","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d36a7f02.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst FilterForm = ({ filterable, handleFilterChange }) => {\r\n    return (\r\n        <div>\r\n            filter shown with\r\n            <input\r\n                value={filterable}\r\n                onChange={handleFilterChange}\r\n                style={{ margin: 8 }} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default FilterForm","import React from 'react';\r\n\r\nconst PersonForm =({addPerson,newName,handleNameChange,newNumber,handleNumberChange})=> {\r\n    return(\r\n        <div>\r\n            \r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                    name: <input\r\n                        value={newName}\r\n                        onChange={handleNameChange}\r\n                        style={{ margin: 8 }} />\r\n                </div>\r\n                <div>\r\n                    number: <input\r\n                        value={newNumber}\r\n                        onChange={handleNumberChange}\r\n                        style={{ margin: 8 }} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst ShowPersons = ({ personsToShow, removePerson }) => {\r\n\r\n    return (\r\n        <div>\r\n            {personsToShow.map(person =>\r\n                <p key={person.id}>{person.name} {person.number}<button style={{margin:5}}onClick={()=>removePerson(person.id, person.name)}>delete</button></p>)}\r\n                \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ShowPersons","import axios from 'axios';\r\nconst baseUrl ='/api/persons';\r\n\r\nconst getAll =()=> {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject=>{\r\n    return axios.post(baseUrl,newObject)\r\n}\r\n\r\nconst update =(id, newObject) =>{\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove =(id)=>{\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, remove}\r\n \r\n","import React from 'react';\r\n\r\n\r\nconst Notification = ({ message, type }) => {\r\n\r\n\r\n    if (type === '') {\r\n        return null\r\n    }\r\n\r\n    if (type === \"rejected\") {\r\n        return (\r\n            <div className=\"rejected\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"completed\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\r\nimport FilterForm from './FilterForm';\r\nimport PersonForm from './PersonForm';\r\nimport ShowPersons from './ShowPersons';\r\nimport personService from '../services/persons';\r\nimport Notification from './Notification';\r\n\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [showAll, setShowAll] = useState(true)\r\n    const [filterable, setFilterable] = useState('')\r\n    const [message, setMessage] = useState('')\r\n    const [messageType, setMessageType] = useState('')\r\n\r\n    const personsToShow = showAll\r\n        ? persons\r\n        : persons.filter(person => person.name.toLowerCase().includes(filterable.toLowerCase()))\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response.data)\r\n            })\r\n    })\r\n\r\n    const personExists = (newName) => {\r\n        const names = persons.map(person => person.name.toLowerCase().trim())\r\n        const includes = names.includes(newName.toLowerCase().trim())\r\n        return includes\r\n    }\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        const personObj = {\r\n            name: newName.trim(),\r\n            number: newNumber.trim()\r\n        }\r\n\r\n        if (personExists(newName)) {\r\n            if (window.confirm(`${newName} is already added to the phonebook,\r\n            replace the old number with new one?`)) {\r\n                const oldPersonArray = persons.filter(p => p.name.toLowerCase().trim() === personObj.name.toLowerCase().trim())\r\n                personService\r\n                    .update(oldPersonArray[0].id, personObj)\r\n                    .then(response => {\r\n                        setNewName('')\r\n                        setNewNumber('')\r\n                        showMessage(`Number updated for ${personObj.name}`, \"completed\")\r\n\r\n                    })\r\n                    .catch(error => {\r\n                        showMessage(`${personObj.name} has already been removed from the server`, \"rejected\")\r\n                    })\r\n\r\n            }\r\n            setNewName('')\r\n            setNewNumber('')\r\n\r\n        } else {\r\n            personService\r\n                .create(personObj)\r\n                .then(response => {\r\n                    console.log(response.body)\r\n                    setPersons(persons.concat(response.data))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    showMessage(`Added ${personObj.name}!`, \"completed\")\r\n                })\r\n                .catch(error => {\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    showMessage(JSON.stringify(error.response.data), \"rejected\")\r\n                    console.log(\"error\", error.response.data)\r\n                })\r\n\r\n        }\r\n    }\r\n\r\n    const handleNameChange = (event) => setNewName(event.target.value)\r\n    const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n    const handleFilterChange = (event) => {\r\n        setShowAll(!showAll)\r\n        setFilterable(event.target.value)\r\n    }\r\n\r\n    const removePerson = (id, name) => {\r\n        if (window.confirm(`Delete ${name}?`)) {\r\n            personService\r\n                .remove(id)\r\n                .then(response => showMessage(`${name} removed from the list`, \"completed\"))\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n        }\r\n    }\r\n\r\n    const showMessage = (mes, type) => {\r\n        setMessage(mes)\r\n        setMessageType(type)\r\n        setTimeout(() => {\r\n            setMessage('')\r\n            setMessageType('')\r\n        }, 5000)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} type={messageType} />\r\n            <FilterForm personsToShow={personsToShow} handleFilterChange={handleFilterChange} />\r\n            <h3> Add a new</h3>\r\n            <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n            <h2>Numbers</h2>\r\n            <ShowPersons personsToShow={personsToShow} removePerson={removePerson} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}